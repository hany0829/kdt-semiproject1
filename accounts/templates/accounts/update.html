{% extends 'base.html' %}
{% load static %}


{% block content %}
{% block style %}
<style>
.profile-box {
  background-image: url('{% static 'image/user.png' %}');
}
</style>
{% endblock style %}
<link rel="stylesheet" href="{% static 'css/update.css' %}">
<h1>회원정보수정</h1>
    <div class="profile-container">
        <div class="profile-box"></div>
        {% if request.user.is_authenticated %}
        <div class="profile-text">안녕하세요! <span>{{ user.username }}</span>님은 일반회원 입니다.</div>
        {% endif %}
    </div>
    <div class="container">
        <form id="update-form" action="{% url 'accounts:update' %}" method="POST">
        {% csrf_token %}
        <div class="input-container">
            <label for="username">아이디</label>
            <input type="text" id="username" name="username" value="{{ user.username }}" required>
        </div>

        <div class="input-container">
            <label for="first_name">이름</label>
            <input type="text" id="first_name" name="first_name" value="{{user.first_name}}" required>
        </div>

        <div class="input-container">
            <label for="email">이메일</label>
            <input type="email" id="email" name="email" value="{{ user.email }}" required>
        </div>

        {% if request.user.is_authenticated %}
            <div class="btn-group">
                <button type="submit">회원정보수정</button>
                <button type="submit">비밀번호변경</button>
            </div>
            </form>
            
            <form id="delete-form" action="{% url 'accounts:delete' %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="회원탈퇴">
            </form>

            <form id="logout-form" action="{% url 'accounts:logout' %}" method="POST">
                {% csrf_token %}
                <input type="submit" value="Logout">
            </form>
        {% endif %}
    </div>
{% endblock content %}


